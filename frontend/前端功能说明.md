# 前端功能说明

## 📋 已实现的功能

### 1. 登录功能 ✅
- **页面路径**：`/login`
- **功能说明**：
  - 用户名和密码登录
  - 表单验证（用户名、密码必填）
  - 登录成功后保存 token 和用户信息
  - 自动跳转到主页
  - 提供注册入口链接

### 2. 注册功能 ✅
- **页面路径**：`/register`
- **功能说明**：
  - 用户名、邮箱、密码注册
  - 表单验证：
    - 用户名至少3个字符
    - 邮箱格式验证
    - 密码至少6个字符
    - 确认密码一致性验证
  - 注册成功后跳转到登录页
  - 提供登录入口链接

### 3. 主页功能 ✅
- **页面路径**：`/`
- **功能说明**：
  - 显示"这是主页"文字
  - 显示当前登录用户信息
  - 提供退出登录功能
  - 未登录用户自动跳转到登录页

## 🎨 页面设计

### 登录/注册页面
- 渐变背景（紫色渐变）
- 白色卡片式设计
- 圆角边框
- 使用 Vant 组件库的表单组件
- 移动端适配

### 主页
- 简洁的卡片式设计
- 显示欢迎信息和用户信息
- 退出登录按钮

## 🔧 技术实现

### 使用的技术栈
- **Vue 3** + Composition API + TypeScript
- **Vant 4** 组件库（移动端 UI）
- **Pinia** 状态管理
- **Vue Router 4** 路由管理
- **Axios** HTTP 请求

### 路由守卫
- 未登录用户访问主页自动跳转到登录页
- 已登录用户访问登录/注册页自动跳转到主页

### 状态管理
- 使用 Pinia 管理用户登录状态
- Token 存储在 localStorage
- 用户信息存储在 Pinia Store

## 📁 文件结构

```
frontend/src/
├── views/
│   ├── Login.vue        # 登录页面
│   ├── Register.vue     # 注册页面
│   └── Home.vue         # 主页
├── router/
│   └── index.ts         # 路由配置（已更新）
├── stores/
│   └── user.ts          # 用户状态管理（已更新）
├── api/
│   └── user.ts          # 用户 API 接口（已更新）
└── types/
    └── user.ts          # 用户类型定义（已更新）
```

## 🚀 使用说明

### 启动项目

```bash
cd frontend
pnpm install  # 或 npm install
pnpm dev      # 或 npm run dev
```

### 访问页面

- **登录页**：http://localhost:5173/login
- **注册页**：http://localhost:5173/register
- **主页**：http://localhost:5173/（需要登录）

### 测试流程

1. 访问主页 → 自动跳转到登录页
2. 点击"还没有账号？立即注册" → 跳转到注册页
3. 填写注册信息 → 注册成功 → 跳转到登录页
4. 填写登录信息 → 登录成功 → 跳转到主页
5. 在主页可以看到"这是主页"文字和用户信息
6. 点击"退出登录" → 返回登录页

## 🔌 API 接口

### 登录接口
- **路径**：`POST /api/auth/login`
- **参数**：
  ```typescript
  {
    username: string
    password: string
  }
  ```
- **返回**：
  ```typescript
  {
    token: string
    userInfo: UserInfo
  }
  ```

### 注册接口
- **路径**：`POST /api/user`
- **参数**：
  ```typescript
  {
    username: string
    email: string
    password: string
  }
  ```

### 获取用户信息接口
- **路径**：`GET /api/user/info`
- **需要认证**：是（Bearer Token）

## 📝 注意事项

1. **后端服务**：确保后端服务已启动（http://localhost:3000）
2. **API 代理**：前端开发服务器已配置代理，`/api` 请求会自动转发到后端
3. **Token 存储**：登录成功后 token 会存储在 localStorage
4. **路由守卫**：未登录用户无法访问主页
5. **表单验证**：前端已实现基础验证，后端也需要进行验证

## 🎯 后续扩展

如需添加其他页面，只需：
1. 在 `src/views/` 创建新的页面组件
2. 在 `src/router/index.ts` 添加路由配置
3. 如需调用 API，在 `src/api/` 添加接口函数

## ✅ 完成情况

- [x] 登录页面
- [x] 注册页面
- [x] 主页（显示"这是主页"）
- [x] 路由配置
- [x] 状态管理
- [x] API 接口封装
- [x] 类型定义
- [x] 移动端适配
- [x] 表单验证
- [x] 路由守卫

