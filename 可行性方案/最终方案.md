**前端架构**
```
框架：Vue 3 + Composition API
构建工具：Vite
UI 组件库：Vant 4 / NutUI（移动端专用）
状态管理：Pinia
路由：Vue Router 4
HTTP 客户端：Axios
移动端适配：postcss-px-to-viewport / vw/vh
```

**技术说明**：
- **Vue 3**：学习曲线平缓，开发效率高，适合中小团队快速上手
- **Vite**：极速启动，热更新快，提升开发体验
- **Vant / NutUI**：成熟的移动端 UI 组件库，开箱即用
- **Pinia**：Vue 3 官方推荐的状态管理，比 Vuex 更简洁

**后端架构**
后端技术架构（轻量高效）
中小型团队后端优先选Node.js 生态（前后端同语言，沟通成本低），无需引入复杂的 Java 生态。

**核心技术栈**

| 技术项 | 选型 | 核心作用 | 推荐理由 |
|--------|------|----------|----------|
| 后端框架 | NestJS | 接口开发、模块化管理 | 比 Koa/Express 更规范，自带 TypeScript，模块化设计易维护，适合团队协作 |
| 数据库 ORM | TypeORM | 操作 MySQL | 与 NestJS 深度适配，支持 TypeScript，无需手写复杂 SQL |
| Redis 客户端 | ioredis | 操作 Redis 缓存 | 功能完整，TypeScript 支持好，性能优秀 |
| 跨域处理 | @nestjs/common (cors) | 允许 H5 跨域请求 | NestJS 内置支持，配置简单 |
| 鉴权 | JWT (@nestjs/jwt) | 用户登录态验证 | 无状态，无需存储会话，适配 H5 移动端鉴权 |
| 接口文档 | Swagger (@nestjs/swagger) | 自动生成接口文档 | NestJS 内置支持，无需手动写文档，前端可直接查看 |
| 数据验证 | class-validator | 请求参数验证 | 装饰器语法，与 NestJS 风格一致 |
| 服务器 | Nginx | 反向代理、静态资源托管 | 轻量稳定，可同时托管前端静态文件 + 转发后端接口 |

**技术说明**：
- **NestJS**：企业级 Node.js 框架，采用装饰器和依赖注入，代码结构清晰
- **TypeORM**：NestJS 官方推荐 ORM，与框架深度集成，支持 TypeScript
- **ioredis**：Redis 官方推荐的 Node.js 客户端，功能完整，支持集群模式
- **JWT**：无状态认证方案，适合移动端 H5 应用
- **Swagger**：自动生成 API 文档，减少前后端沟通成本

**数据库**
```
主数据库：MySQL 8.0
缓存：Redis 7+
ORM：TypeORM（与 NestJS 深度集成，推荐使用）
```

**说明**：
- **MySQL 8.0**：关系型数据库，存储业务数据
- **Redis 7+**：内存缓存，用于会话存储、热点数据缓存、限流控制
- **TypeORM**：操作 MySQL，支持迁移、查询构建器、关系映射等功能

---

## 完整依赖清单

### 前端依赖

```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "axios": "^1.6.0",
    "vant": "^4.8.0"
  },
  "devDependencies": {
    "@vitejs/plugin-vue": "^5.0.0",
    "vite": "^5.0.0",
    "typescript": "^5.3.0",
    "postcss-px-to-viewport": "^1.1.1",
    "eslint": "^8.56.0",
    "prettier": "^3.1.0"
  }
}
```

### 后端依赖

```json
{
  "dependencies": {
    "@nestjs/common": "^10.3.0",
    "@nestjs/core": "^10.3.0",
    "@nestjs/platform-express": "^10.3.0",
    "@nestjs/typeorm": "^10.0.0",
    "@nestjs/jwt": "^10.2.0",
    "@nestjs/passport": "^10.0.0",
    "@nestjs/swagger": "^7.1.0",
    "typeorm": "^0.3.17",
    "mysql2": "^3.6.0",
    "ioredis": "^5.3.0",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "class-validator": "^0.14.0",
    "class-transformer": "^0.5.1",
    "reflect-metadata": "^0.1.13",
    "rxjs": "^7.8.0"
  },
  "devDependencies": {
    "@nestjs/cli": "^10.2.0",
    "@nestjs/schematics": "^10.0.0",
    "@types/node": "^20.10.0",
    "@types/passport-jwt": "^4.0.0",
    "typescript": "^5.3.0",
    "ts-node": "^10.9.0",
    "ts-loader": "^9.5.0",
    "nodemon": "^3.0.0"
  }
}
```

---

## 开发环境要求

### 必需环境

- **Node.js**：18.0+ LTS 版本
- **npm**：9.0+ 或 **pnpm**：8.0+（推荐使用 pnpm）
- **MySQL**：8.0+
- **Redis**：7.0+
- **Git**：2.30+

### 推荐工具

- **IDE**：VS Code
  - 插件：Volar（Vue 3）、ESLint、Prettier
- **数据库管理**：Navicat / DBeaver / MySQL Workbench
- **API 测试**：Postman / Apifox
- **版本控制**：Git + GitHub / GitLab

---

## 快速开始

### 前端项目初始化

```bash
# 使用 Vite 创建 Vue 3 项目
pnpm create vite@latest h5-frontend --template vue-ts
cd h5-frontend

# 安装依赖
pnpm install

# 安装 UI 组件库和工具
pnpm add vue-router@4 pinia axios vant
pnpm add -D postcss-px-to-viewport

# 启动开发服务器
pnpm dev
```

### 后端项目初始化

```bash
# 使用 NestJS CLI 创建项目
npm i -g @nestjs/cli
nest new h5-backend
cd h5-backend

# 安装核心依赖
pnpm add @nestjs/typeorm typeorm mysql2
pnpm add ioredis
pnpm add @nestjs/jwt @nestjs/passport passport passport-jwt
pnpm add @nestjs/swagger swagger-ui-express
pnpm add class-validator class-transformer

# 启动开发服务器
pnpm start:dev
```

---

## 部署方案

### 开发环境
- 前端：Vite Dev Server（localhost:5173）
- 后端：NestJS Dev Server（localhost:3000）
- 数据库：本地 MySQL + Redis

### 生产环境
- **前端部署**：
  - 构建：`pnpm build`
  - 托管：Nginx 静态文件服务 或 Vercel/Netlify
  - CDN：Cloudflare（可选）

- **后端部署**：
  - 构建：`pnpm build`
  - 运行：`node dist/main.js`
  - 进程管理：PM2
  - 反向代理：Nginx

- **数据库部署**：
  - MySQL：云数据库 RDS 或 Docker 部署
  - Redis：云 Redis 或 Docker 部署

### Nginx 配置示例

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # 前端静态文件
    location / {
        root /var/www/h5-frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # 后端 API 代理
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```